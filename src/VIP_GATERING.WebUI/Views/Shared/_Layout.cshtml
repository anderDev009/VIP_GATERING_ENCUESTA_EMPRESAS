@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - VIP CATERING</title>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    @RenderSection("Styles", required: false)
</head>
<body class="app-body">
    <div class="app-surface" aria-hidden="true"></div>
    <div class="app-glow app-glow--one" aria-hidden="true"></div>
    <div class="app-glow app-glow--two" aria-hidden="true"></div>

    <div class="app-shell">
        <header class="app-header">
            <div>
                <a asp-controller="Home" asp-action="Index" class="app-logo">
                    <span class="app-logo__badge">
                        <img src="~/images/logo-vip.png" alt="VIP Catering Gourmet" class="app-logo__img" />
                    </span>
                    <span class="app-logo__text">VIP CATERING</span>
                </a>
            </div>
            <nav class="app-nav">
                @if (User.IsInRole("Empleado"))
                {
                    <a asp-controller="Empleado" asp-action="MiSemana" class="btn-primary">Mi semana</a>
                    <a asp-controller="Reportes" asp-action="EstadoCuenta" class="btn-outline">Estado de cuenta</a>
                    <a asp-controller="Reportes" asp-action="Selecciones" class="btn-outline">Selecciones</a>
                }

                @if (User.IsInRole("Admin") || User.IsInRole("RRHH"))
                {
                    <div class="nav-dropdown">
                        <button type="button" class="btn-primary nav-dropdown__trigger">
                            Administrar
                            <span class="nav-dropdown__chevron" aria-hidden="true">&#9662;</span>
                        </button>
                        <div class="nav-dropdown__menu">
                            <a asp-controller="Empresas" asp-action="Index" class="nav-dropdown__item">Empresa</a>
                            <a asp-controller="Sucursales" asp-action="Index" class="nav-dropdown__item">Filial</a>
                            <a asp-controller="Localizaciones" asp-action="Index" class="nav-dropdown__item">Localizaciones</a>
                            <a asp-controller="Empleados" asp-action="Index" class="nav-dropdown__item">Empleado</a>
                            @if (User.IsInRole("RRHH"))
                            {
                                <a asp-controller="Empleados" asp-action="Create" class="nav-dropdown__item">Crear empleado</a>
                            }
                            @if (User.IsInRole("Admin"))
                            {
                                <a asp-controller="Opciones" asp-action="Index" class="nav-dropdown__item">Platos</a>
                                <a asp-controller="Menu" asp-action="Sucursales" class="nav-dropdown__item">Menu</a>
                                <a asp-controller="Menu" asp-action="ImportarSelecciones" class="nav-dropdown__item">Importar selecciones</a>
                                <a asp-controller="Security" asp-action="Index" class="nav-dropdown__item">Seguridad</a>
                            }
                        </div>
                    </div>

                    <div class="nav-dropdown">
                        <button type="button" class="btn-primary nav-dropdown__trigger">
                            Reportes
                            <span class="nav-dropdown__chevron" aria-hidden="true">&#9662;</span>
                        </button>
                        <div class="nav-dropdown__menu">
                            <a asp-controller="Reportes" asp-action="Distribucion" class="nav-dropdown__item">Distribucion</a>
                            @if (User.IsInRole("Admin"))
                            {
                                <a asp-controller="Reportes" asp-action="ReporteMaestro" class="nav-dropdown__item">Reporte maestro</a>
                                <a asp-controller="Reportes" asp-action="Selecciones" class="nav-dropdown__item">Selecciones</a>
                                <a asp-controller="Reportes" asp-action="Seleccionados" class="nav-dropdown__item">Seleccionados pendientes</a>
                            }
                        </div>
                    </div>
                }

                @if (User.IsInRole("Admin"))
                {
                    <div class="nav-dropdown">
                        <button type="button" class="btn-primary nav-dropdown__trigger">
                            Nominas
                            <span class="nav-dropdown__chevron" aria-hidden="true">&#9662;</span>
                        </button>
                        <div class="nav-dropdown__menu">
                            <a asp-controller="Reportes" asp-action="NominasMantenimiento" class="nav-dropdown__item">Mantenimiento</a>
                            <a asp-controller="Reportes" asp-action="NominasHistorico" class="nav-dropdown__item">Historico</a>
                        </div>
                    </div>
                }

                @* Facturacion oculto temporalmente por issues en el modulo *@

                @if (User.Identity?.IsAuthenticated == true)
                {
                    <a asp-controller="Account" asp-action="ChangePassword" class="btn-outline inline-flex items-center gap-2">
                        Cambiar contrasena
                        @if (User.HasClaim("must_change_password", "1"))
                        {
                            <span class="badge-warning">Requerido</span>
                        }
                    </a>
                    <a asp-controller="Account" asp-action="Logout" class="btn-outline">Salir</a>
                }
                else
                {
                    <a asp-controller="Account" asp-action="Login" class="btn-outline">Entrar</a>
                }
            </nav>
        </header>

        <main class="app-main">
            @await Html.PartialAsync("_Toasts")
            @RenderSection("Breadcrumb", required: false)
            @RenderBody()
        </main>

        <footer class="app-footer">
            &copy; @DateTime.Now.Year VIP CATERING
        </footer>
    </div>

    @RenderSection("Scripts", required: false)
</body>
</html>

